<?xml version="1.0" encoding="UTF-8"?>
<sequence name="Atom_Process_Sequence" trace="disable" xmlns="http://ws.apache.org/ns/synapse">
    <sequence key="Choreo_Atom_GetAccessToken_Sequenc"/>
    <call>
        <endpoint>
            <http method="get" uri-template="https://5ea3cd2c-5708-4489-bfc3-d82bd90520b2-dev.e1-us-east-azure.choreoapis.dev/rxrp/atom-api/endpoint-9090-803/1.0.0/empUpdate">
                <suspendOnFailure>
                    <initialDuration>-1</initialDuration>
                    <progressionFactor>-1</progressionFactor>
                    <maximumDuration>0</maximumDuration>
                </suspendOnFailure>
                <markForSuspension>
                    <retriesBeforeSuspension>0</retriesBeforeSuspension>
                </markForSuspension>
            </http>
        </endpoint>
    </call>
    <property expression="json-eval($)" name="body" scope="default" type="STRING"/>
    <log level="full"/>
    <sequence key="DB_Entry_Sequence"/>
    <log level="custom">
        <property name="Choreo_Atom_GetAccessToken_Sequenc" value="before sqs"/>
    </log>
    <log level="full"/>
    <amazonsqs.init>
        <accessKeyId>get-property('env', 'SQS_ACCESSKEY')</accessKeyId>
        <connectionType>amazonsqs</connectionType>
        <version>2009-02-01</version>
        <secretAccessKey>get-property('env', 'SQS_SECRETKEY')</secretAccessKey>
        <enableSSL>true</enableSSL>
        <blocking>false</blocking>
        <name>AMAZON_SQS_CONNECTION_1</name>
        <region>ap-southeast-2</region>
    </amazonsqs.init>
    <amazonsqs.sendMessage >
        <queueId>494315182757</queueId>
        <queueName>ChoreoTestSQS</queueName>
        <messageBody>{get-property('body')}</messageBody>
    </amazonsqs.sendMessage>
</sequence>